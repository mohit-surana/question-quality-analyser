Basic Elements
           No artifact designed by man is so convenient for this kind of functional
           description as a digital computer. Almost the only ones of its properties
           that are detectable in its behavior are the organizational properties.
           Almost no interesting statement that one can make about on operating
           computer bears any particular relation to the specific nature of the hard-
           ware.A computer is an organization of elementary functional components
           in which, to a high approximation, only the function performed by those
           components is relevant to the behavior of the whole system.
                              THE SCIENCES OF THE ARTIFICIAL, Herbert Simon
        LEARNING OBJECTIVES
        After studying this chapter, you should be able to:
          Describe the basic elements of a computer system and their interrelationship.
          Explain the steps taken by a processor to execute an instruction.
          Understand the concept of interrupts and how and why a processor uses
           interrupts.
          List and describe the levels of a typical computer memory hierarchy.
          Explain the basic characteristics of multiprocessor and multicore organizations.
          Discuss the concept of locality and analyze the performance of a multilevel
           memory hierarchy.
          Understand the operation of a stack and its use to support procedure call and
           return.
        An operating system (OS) exploits the hardware resources of one or more proces-
        sors to provide a set of services to system users. The OS also manages secondary
        memory and I/O (input/output) devices on behalf of its users. Accordingly, it is
        important to have some understanding of the underlying computer system hardware
        before we begin our examination of operating systems.
              This chapter provides an overview of computer system hardware. In most
        areas, the survey is brief, as it is assumed that the reader is familiar with this subject.
        However, several areas are covered in some detail because of their importance to
        topics covered later in the book. Further topics are covered in Appendix C.
   1.1  BASIC ELEMENTS
        At a top level, a computer consists of processor, memory, and I/O components, with
        one or more modules of each type. These components are interconnected in some
        fashion to achieve the main function of the computer, which is to execute programs.
        Thus, there are four main structural elements:
             Processor: Controls the operation of the computer and performs its data pro-
              cessing functions. When there is only one processor, it is often referred to as
              the central processing unit (CPU).

  Main memory: Stores data and programs. This memory is typically volatile; that
   is, when the computer is shut down, the contents of the memory are lost. In
   contrast, the contents of disk memory are retained even when the computer
   system is shut down. Main memory is also referred to as real memory or primary
   memory.
  I/O modules: Move data between the computer and its external environment.
   The external environment consists of a variety of devices, including secondary
   memory devices (e.g., disks), communications equipment, and terminals.
  System bus: Provides for communication among processors, main memory,
   and I/O modules.
   Figure 1.1 depicts these top-level components. One of the processor's func-
tions is to exchange data with memory. For this purpose, it typically makes use of
two internal (to the processor) registers: a memory address register (MAR), which
specifies the address in memory for the next read or write; and a memory buffer reg-
ister (MBR), which contains the data to be written into memory or which receives
              CPU                                  Main memory
                             System                                              0
                                                                                 1
                             bus                                                 2
   PC                MAR                           Instruction
                                                   Instruction
   IR                MBR                           Instruction
                     I/O AR
   Execution                                       Data
   unit            I/O BR                          Data
                                                   Data
                                                   Data
            I/O module                                                           n2
                                                                                 n1
                             PC                    Program counter
                             IR                    Instruction register
                   Buffers   MAR                   Memory address register
                             MBR                   Memory buffer register
                             I/O AR                Input/output address register
                             I/O BR                Input/output buffer register
Figure 1.1  Computer Components: Top-Level View

     the data read from memory. Similarly, an I/O address register (I/OAR) specifies a
     particular I/O device. An I/O buffer register (I/OBR) is used for the exchange of
     data between an I/O module and the processor.
     A memory module consists of a set of locations, defined by sequentially num-
     bered addresses. Each location contains a bit pattern that can be interpreted as
     either an instruction or data. An I/O module transfers data from external devices to
     processor and memory, and vice versa. It contains internal buffers for temporarily
     holding data until they can be sent on.
1.2  EVOLUTION OF THE MICROPROCESSOR
     The hardware revolution that brought about desktop and handheld computing was
     the invention of the microprocessor, which contained a processor on a single chip.
     Though originally much slower than multichip processors, microprocessors have
     continually evolved to the point that they are now much faster for most computa-
     tions due to the physics involved in moving information around in sub-nanosecond
     timeframes.
     Not only have microprocessors become the fastest general purpose processors
     available, they are now multiprocessors; each chip (called a socket) contains multi-
     ple processors (called cores), each with multiple levels of large memory caches, and
     multiple logical processors sharing the execution units of each core. As of 2010, it is
     not unusual for even a laptop to have 2 or 4 cores, each with 2 hardware threads, for
     a total of 4 or 8 logical processors.
     Although processors provide very good performance for most forms of
     computing, there is increasing demand for numerical computation. Graphical
     Processing Units (GPUs) provide efficient computation on arrays of data using
     Single-Instruction Multiple Data (SIMD) techniques pioneered in supercomput-
     ers. GPUs are no longer used just for rendering advanced graphics, but they are
     also used for general numerical processing, such as physics simulations for games
     or computations on large spreadsheets. Simultaneously, the CPUs themselves are
     gaining the capability of operating on arrays of data--with increasingly power-
     ful vector units integrated into the processor architecture of the x86 and AMD64
     families.
     Processors and GPUs are not the end of the computational story for the
     modern PC. Digital Signal Processors (DSPs) are also present, for dealing with
     streaming signals--such as audio or video. DSPs used to be embedded in I/O
     devices, like modems, but they are now becoming first-class computational devices,
     especially in handhelds. Other specialized computational devices (fixed function
     units) co-exist with the CPU to support other standard computations, such as
     encoding/decoding speech and video (codecs), or providing support for encryption
     and security.
     To satisfy the requirements of handheld devices, the classic microprocessor
     is giving way to the System on a Chip (SoC), where not just the CPUs and caches
     are on the same chip, but also many of the other components of the system, such as
     DSPs, GPUs, I/O devices (such as radios and codecs), and main memory.
